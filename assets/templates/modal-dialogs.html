<template id="formatMenuTemplate">
    <div class="format-menu" id="formatMenu" role="menu" hidden>
      <button class="format-option" data-format="bold" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>
          <path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>
        </svg>
        Bold
        <span class="shortcut">Ctrl+B</span>
      </button>
      <button class="format-option" data-format="italic" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="19" y1="4" x2="10" y2="4"></line>
          <line x1="14" y1="20" x2="5" y2="20"></line>
          <line x1="15" y1="4" x2="9" y2="20"></line>
        </svg>
        Italic
        <span class="shortcut">Ctrl+I</span>
      </button>
      <button class="format-option" data-format="code" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        Code
        <span class="shortcut">Ctrl+`</span>
      </button>
      <button class="format-option" data-format="codeblock" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        Code Block
        <span class="shortcut">```</span>
      </button>
    </div>
  </template>
  
  <template id="contextMenuTemplate">
    <div class="context-menu" role="menu">
      <button class="context-menu-item" data-action="copy" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
        Copy
      </button>
      <button class="context-menu-item" data-action="edit" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
        </svg>
        Edit
      </button>
      <button class="context-menu-item" data-action="share" role="menuitem">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="18" cy="5" r="3"></circle>
          <circle cx="6" cy="12" r="3"></circle>
          <circle cx="18" cy="19" r="3"></circle>
          <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
          <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
        </svg>
        Share
      </button>
    </div>
  </template>
  
  <template id="keyboardShortcutsDialogTemplate">
    <div class="keyboard-shortcuts-dialog" id="keyboardShortcutsDialog" role="dialog" aria-labelledby="keyboardShortcutsTitle" aria-modal="true" hidden>
      <div class="dialog-content">
        <div class="dialog-header">
          <h3 id="keyboardShortcutsTitle">Keyboard Shortcuts</h3>
          <button type="button" class="close-btn" id="closeKeyboardShortcutsBtn" aria-label="Close keyboard shortcuts dialog">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        
        <div class="dialog-body">
          <div class="shortcuts-group">
            <h4>General</h4>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>/</kbd></div>
              <div class="shortcut-description">Focus message input</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Esc</kbd></div>
              <div class="shortcut-description">Close dialogs, panels, or menus</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>?</kbd></div>
              <div class="shortcut-description">Show keyboard shortcuts</div>
            </div>
          </div>
          
          <div class="shortcuts-group">
            <h4>Navigation</h4>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Ctrl</kbd> + <kbd>N</kbd></div>
              <div class="shortcut-description">New chat</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Ctrl</kbd> + <kbd>,</kbd></div>
              <div class="shortcut-description">Open settings</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>D</kbd></div>
              <div class="shortcut-description">Toggle theme</div>
            </div>
          </div>
          
          <div class="shortcuts-group">
            <h4>Editing</h4>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Enter</kbd></div>
              <div class="shortcut-description">Send message</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Shift</kbd> + <kbd>Enter</kbd></div>
              <div class="shortcut-description">Insert new line</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Ctrl</kbd> + <kbd>B</kbd></div>
              <div class="shortcut-description">Bold text</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Ctrl</kbd> + <kbd>I</kbd></div>
              <div class="shortcut-description">Italic text</div>
            </div>
            <div class="shortcut-row">
              <div class="shortcut-key"><kbd>Ctrl</kbd> + <kbd>`</kbd></div>
              <div class="shortcut-description">Inline code</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>
  
  <template id="updateNotificationTemplate">
    <div class="update-notification" id="updateNotification" role="alert" hidden>
      <div class="update-content">
        <div class="update-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
          </svg>
        </div>
        <div class="update-message">
          <p>A new version is available</p>
          <button type="button" class="update-button" id="updateButton">Update Now</button>
        </div>
        <button type="button" class="dismiss-update" id="dismissUpdate" aria-label="Dismiss update notification">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
  </template>
  
  <template id="pwaInstallPromptTemplate">
    <div class="pwa-install-prompt" id="pwaInstallPrompt" hidden aria-hidden="true">
      <div class="pwa-install-content">
        <div class="pwa-install-header">
          <div class="pwa-logo">
            <img src="assets/img/icon-192.png" alt="Claude Chat icon" width="48" height="48">
          </div>
          <button type="button" class="close-btn" id="pwaDismissX" aria-label="Dismiss">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <h3>Install Claude Chat</h3>
        <p>Install this app on your device for a better experience with offline capabilities and faster loading.</p>
        <div class="pwa-features">
          <div class="pwa-feature">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
              <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
              <path d="M2 2l7.586 7.586"></path>
              <circle cx="11" cy="11" r="2"></circle>
            </svg>
            <span>Faster access</span>
          </div>
          <div class="pwa-feature">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4"></path>
              <path d="M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2"></path>
              <path d="M17.29 21.02c.12-.6.43-2.3.5-3.02"></path>
              <path d="M12 10a2 2 0 0 0-2 2"></path>
              <path d="M12 10a2 2 0 0 1 2 2"></path>
              <path d="M16 7a4 4 0 0 0-8 0"></path>
              <path d="M19.14 22.5c-.41.2-.83.4-1.3.5-2.5.6-4.92-.1-7.18-1"></path>
            </svg>
            <span>Works offline</span>
          </div>
          <div class="pwa-feature">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
              <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
            </svg>
            <span>No browser UI</span>
          </div>
        </div>
        <div class="pwa-buttons">
          <button type="button" id="pwaInstallButton" class="btn-primary">Install App</button>
          <button type="button" id="pwaDismissButton" class="btn-text">Not Now</button>
        </div>
      </div>
    </div>
  </template>
  
  <template id="toastTemplate">
    <div class="toast" role="alert">
      <div class="toast-icon" data-if="icon">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-slot="icon">
        </svg>
      </div>
      <div class="toast-content" data-slot="message"></div>
      <button class="toast-close" aria-label="Close notification">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
  </template>